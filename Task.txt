1. У каждого юнита есть своя базовая атака: фиксированное положительное целочисленное значение (например, 15)
2. У них есть базовая защита: это положительное целочисленное значение в диапазоне от 0 до 100, показывающее, сколько процентов от получаемого урона будет поглощено (например, если юниту с защитой 10 нанесено 25 урона, он в итоге получит только 25 * 0,9 = 22,5 урона)
3. На наносимый урон влияет, в каких фракциях находятся юниты. Существует три фракции: добро, зло и нейтралитет. Добрые и злые юниты получают дебафф в 50% к урону, если они атакуют юнита из своей фракции, и бафф в 50%, если атакуют юнита из противоположной (для добрых это злые, для злых это добрые). На нейтральных юнитов это правило никак не работает.
4. в какой-то момент сражения юниты могут достичь состояния берсерка - тогда их базовый урон увеличивается в 2 раза, но базовая защита уменьшается на 80%. 

Необходимо запрограммировать формулу, которая будет учитывать все эти аспекты, и написать программу, которая будет получать на вход все нужные данные о сражающихся и рассчитывать конечный урон, который получит защищающаяся сторона, по данной формуле.